<!DOCTYPE html>
<html lang="en">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Live HTML/JS editor for developing and testing custom web components">
<meta name="keywords" content="web components, custom elements, live editor, HTML, JavaScript, development tool">
<meta name="author" content="Web Components Developer">
<meta name="application-name" content="Custom Elements Playground">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
<link rel="icon" type="image/svg+xml"
  href="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NCA2NCI+CiAgPGRlZnM+CiAgICA8bGluZWFyR3JhZGllbnQgaWQ9ImciIHgxPSIwIiB5MT0iMCIgeDI9IjEiIHkyPSIxIj4KICAgICAgPHN0b3Agb2Zmc2V0PSIwIiBzdG9wLWNvbG9yPSIjMjJkM2VlIi8+CiAgICAgIDxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iIzhiNWNmNiIvPgogICAgPC9saW5lYXJHcmFkaWVudD4KICA8L2RlZnM+CiAgPHJlY3Qgd2lkdGg9IjY0IiBoZWlnaHQ9IjY0IiByeD0iMTQiIGZpbGw9IiMwYjEyMjAiLz4KICA8cmVjdCB4PSI0IiB5PSI0IiB3aWR0aD0iNTYiIGhlaWdodD0iNTYiIHJ4PSIxMiIgZmlsbD0idXJsKCNnKSIgb3BhY2l0eT0iMC4yNiIvPgogIDxwYXRoIGQ9Ik0xOSAyMmwxMCAxMC0xMCAxMCIgc3Ryb2tlPSIjN2RkM2ZjIiBzdHJva2Utd2lkdGg9IjUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgZmlsbD0ibm9uZSIvPgogIDxyZWN0IHg9IjMzIiB5PSI0MCIgd2lkdGg9IjE0IiBoZWlnaHQ9IjQiIHJ4PSIyIiBmaWxsPSIjYTc4YmZhIi8+CiAgPGNpcmNsZSBjeD0iNDkiIGN5PSIxNyIgcj0iNiIgZmlsbD0iIzIyZDNlZSIvPgo8L3N2Zz4K">
<script type="module" src="SmartBox.js"></script>
<script src="https://unpkg.com/prettier@2.8.8/standalone.js"></script>
<script src="https://unpkg.com/prettier@2.8.8/parser-html.js"></script>
<script src="https://unpkg.com/prettier@2.8.8/parser-babel.js"></script>
<script src="https://unpkg.com/prettier@2.8.8/parser-postcss.js"></script>
<script src="https://unpkg.com/@prettier/plugin-php@0.21.0/standalone.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.32.6/ace.min.js"></script>
<script src="https://cdn.counter.dev/script.js" data-id="b776fd07-46c1-47fc-98f6-472310d54f95"
  data-utcoffset="-5"></script>
<title>QEditor</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
<link rel="stylesheet" href="style.css">

<script>
  window.$$ = document.querySelectorAll.bind(document)
  window.state = new Proxy({}, {
  set(obj, prop, value) {
    obj[prop] = value
    $$(`[data="${prop}"]`).forEach(el => {
      const f = window.custom[el.tagName.toLowerCase()];
      if(typeof f === 'function') {
        el.innerHTML = f(value);
      } else {
        el.innerHTML = f.render(value);
      }
    });
    return true
  }
})
</script>

<div class="container">
  <div class="panel" id="preview-panel">
    <iframe id="preview-frame" title="Live preview" sandbox="allow-scripts" referrerpolicy="no-referrer"></iframe>
  </div>
  <div class="panel" id="editor-container">
    <div id="editor-wrapper">
      <div class="editor-toolbar" aria-hidden="true"><code>&lt;!-- markdown --&gt;</code> for md document</div>
      <textarea id="editor" spellcheck="false" autocapitalize="off" autocorrect="off" wrap="off"
        placeholder="Type HTML and JavaScript here...">
      </textarea>
      <div id="editor-view" aria-label="Code editor"></div>
      <div class="format-hint">⌘⇧F format</div>
      <button id="reset-btn" class="reset-button" data-reset="true" title="Clear localStorage and reload">Reset</button>
    </div>
  </div>
</div>
<smart-box></smart-box>
<div class="top-controls">
  <button id="global-reset-btn" class="global-reset-button" data-reset="true" type="button" title="Clear localStorage and reload">Reset</button>
  <button id="toggle-code-btn" class="toggle-code-button" type="button" aria-controls="editor-container" aria-expanded="true">Hide Code</button>
  <button id="toggle-assistant-btn" class="toggle-assistant-button" type="button" aria-expanded="true">Hide Assistant</button>
</div>
<div class="share-tip">Tip: Copy the URL to save and send to someone.</div>
<footer class="site-footer">c 2026 sunset beach labs v0.2.0</footer>
<script src="https://cdn.jsdelivr.net/npm/markdown-it@14/dist/markdown-it.min.js"></script>
<script src="index.js"></script>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const smartBox = document.querySelector('smart-box');
    const toggleAssistantBtn = document.getElementById('toggle-assistant-btn');
    const ASSISTANT_HIDDEN_KEY = 'qeditor-assistant-hidden';
    const forceHideViaQuery = new URLSearchParams(window.location.search).has('nosmartbox');

    function setAssistantHidden(hidden) {
      if (!smartBox) return;
      smartBox.style.display = hidden ? 'none' : '';
      if (!toggleAssistantBtn) return;
      toggleAssistantBtn.textContent = hidden ? 'Show Assistant' : 'Hide Assistant';
      toggleAssistantBtn.setAttribute('aria-expanded', String(!hidden));
    }

    const savedHidden = localStorage.getItem(ASSISTANT_HIDDEN_KEY) === '1';
    setAssistantHidden(forceHideViaQuery || savedHidden);

    if (toggleAssistantBtn) {
      if (forceHideViaQuery) {
        toggleAssistantBtn.disabled = true;
      } else {
        toggleAssistantBtn.addEventListener('click', () => {
          const hidden = smartBox && smartBox.style.display === 'none';
          const nextHidden = !hidden;
          setAssistantHidden(nextHidden);
          localStorage.setItem(ASSISTANT_HIDDEN_KEY, nextHidden ? '1' : '0');
        });
      }
    }
    
    // Reset buttons functionality
    const resetButtons = document.querySelectorAll('[data-reset="true"]');
    resetButtons.forEach((btn) => {
      btn.addEventListener('click', () => {
        if (confirm('Clear all saved data and reload the page?')) {
          localStorage.clear();
          window.location.href = window.location.origin + window.location.pathname;
        }
      });
    });
  });
</script>
